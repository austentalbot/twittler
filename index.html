<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body id='body'>
    <div id='title'></div>
    <div class='stream-wrapper' align='center'>
      <table class='tweet-stream' id='tweets'></table>
    </div>

    <script>

      $(document).ready(function(){
        // create variable to hold tweets
        var $tweets = $('#tweets');

        // set font family var
        var fontFam='Trebuchet MS';

        // set refresh interval
        var refreshInt=500000;

        // adjust page body and title
        var $body = $('#body');
        $body.css('margin', '0px');
        $body.css('padding', '0px');
        $body.css('background-color', '#e4ede4')

        var $title = $('#title');
        $title.html('');
        $title.css('width', '100%');
        $title.css('margin', '0px');
        $title.css('padding', '0px');

        var $mainTitle=$('<div></div>');
        $mainTitle.text('Twittler');
        $mainTitle.css('width', '100%');
        $mainTitle.css('background-color', '#008500');
        $mainTitle.css('color', 'white');
        $mainTitle.css('margin', '0px');
        $mainTitle.css('padding', '0px');
        $mainTitle.css('font-size', '35px');
        $mainTitle.css('font-family', fontFam);
        $mainTitle.appendTo($title);

        var $subTitle=$('<div></div>');
        $subTitle.text('Twitt feed');
        $subTitle.css('width', '100%');
        $subTitle.css('background-color', '#269926');
        $subTitle.css('color', 'white');
        $subTitle.css('margin', '0px');
        $subTitle.css('padding', '0px');
        $subTitle.css('font-size', '25px')
        $subTitle.css('font-family', fontFam);
        $subTitle.appendTo($title);


        // create function to post tweet stream
        var postTweet = function() {
          $tweets.html('');
          var index = streams.home.length - 1;
          // pull out tweet info from streams and append
          while(index >= 0){
            var tweet = streams.home[index];
            // add some padding
            var $pad=$('<div style="height:4px;"></div>');
            $pad.appendTo($tweets);

            // format twitt
            var $tweet = $('<div style="width:700px;height:25px;border:1px solid black;border-radius:5px;background-color:white; line-height: 25px;"></div>');
            $tweet.css('font-family', fontFam);
            $tweet.css('font-size', '13px');
            tweet.time=tweet.created_at.toString().slice(4, 24);
            $tweet.text('@' + tweet.user + ': ' + tweet.message + ' (' + tweet.time + ')');

            // add id for user
            $tweet.arrt('class', 'fullStreamTweet');
            $tweet.attr('id', tweet.user);

            // add twitt to stream
            $tweet.appendTo($tweets);
            index -= 1;
          }
        };



        //post initial tweets
        postTweet();

        // create timed function to check for new tweets and post the every 1000 ms
        setInterval(function() {
          postTweet();
        }, refreshInt);


      });

    </script>
  </body>
</html>
